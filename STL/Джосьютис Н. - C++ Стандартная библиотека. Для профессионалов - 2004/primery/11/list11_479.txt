idx == std::string::npos
Пример:
std::string s;
...

int idx = s.find("not found");     // Предположим, возвращается npos
if (idx == std::string::npos) {    // ОШИБКА: сравнение может не работать
    ...
}
Один из способов предотвращения этой ошибки основан на прямой проверке результата поиска:
if (s.find("hi") == std::string::npos) {
    ...
}


