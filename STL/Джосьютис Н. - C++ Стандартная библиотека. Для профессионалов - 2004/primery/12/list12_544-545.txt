//  num/indi1.cpp
#include <iostream>
#include <valarray>
using namespace std;

// Построчный вывод массива значений
template<class T>
void printValarray (const valarray<T>& va, int num)
{
    for (int i=0; i<va.size()/num; i++) {
        for (int j=0; j<num; j++) {
            cout << va[i*num+j] << ' ';
        }
        cout << endl;
    }
    cout << endl;
}

int main()
{
    // Создание массива значений с 12 элементами
    valarray<double> va(12);

    // Инициализация массива значениями 1.01, 2.02, ... 12.12
    for (int i=0; i<12; i++) {
        va[i] = (i+1) * 1.01;
    }
    printValarray(va,4);

    /* Создание массива индексов
     * - ВНИМАНИЕ: элементы должны относиться к типу size_t
     */
    valarray<size_t> idx(4);
    idx[0] = 8;
    idx[1] = 0;
    idx[2] = 3;
    idx[3] = 7;

    // Вывод девятого, первого, четвертого и восьмого элементов
    // с использованием перечисляемого подмножества
    printValarray(valarray<double>(va[idx]), 4);

    // Изменение первого и четвертого элементов
    // и повторный вывод перечисляемого подмножества
    va[0] = 11.11;
    va[3] = 44.44;
    printValarray(valarray<double>(va[idx]), 4);

    // Выбор второго, третьего, шестого и девятого элементов
    // и присваивание им 99
    idx[0] = 1;
    idx[1] = 2;
    idx[2] = 5;
    idx[3] = 8;
    va[idx] = 99;

    // Вывод всего массива значений
    printValarray (va, 4);
}


